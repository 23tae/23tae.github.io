<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="[운영 체제] 03. Processes" /><meta property="og:locale" content="en" /><meta name="description" content="Process Concept" /><meta property="og:description" content="Process Concept" /><link rel="canonical" href="https://23tae.github.io/posts/os03/" /><meta property="og:url" content="https://23tae.github.io/posts/os03/" /><meta property="og:site_name" content="Justnote" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-07-26T12:30:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[운영 체제] 03. Processes" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="pwyVnBftLVRWrdN-N6v3WUvcMGKWdWZQe6eilBPgBJc" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-07-30T22:08:28+09:00","datePublished":"2022-07-26T12:30:00+09:00","description":"Process Concept","headline":"[운영 체제] 03. Processes","mainEntityOfPage":{"@type":"WebPage","@id":"https://23tae.github.io/posts/os03/"},"url":"https://23tae.github.io/posts/os03/"}</script><title>[운영 체제] 03. Processes | Justnote</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Justnote"><meta name="application-name" content="Justnote"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/logo.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Justnote</a></div><div class="site-subtitle font-italic">배운 내용을 기록하는 곳</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/23tae" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['taehoonkim.dev','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>[운영 체제] 03. Processes</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>[운영 체제] 03. Processes</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1658806200" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 26, 2022 </em> </span> <span> Updated <em class="" data-ts="1659186508" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 30, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/23tae">Taehoon</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3046 words"> <em>16 min</em> read</span></div></div></div><div class="post-content"><h1 id="process-concept">Process Concept</h1><h2 id="프로세스란"><span class="mr-2">프로세스란?</span><a href="#프로세스란" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><strong>프로세스</strong>는 실행되는 프로그램을 의미함<li>프로세스는 OS에서의 작업 단위<li>프로세스가 작업을 마치기 위해서는 다음과 같은 리소스를 필요로 함<ul><li>CPU 타임<li>메모리<li>파일<li>I/O 디바이스</ul></ul><p>OS가 하는 가장 중요한 일이 프로세스를 관리하는 것</p><h2 id="프로세스의-메모리-구성"><span class="mr-2">프로세스의 메모리 구성</span><a href="#프로세스의-메모리-구성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><img data-src="/assets/img/cs/os/os03/process_memory.jpg" alt="process_memory.jpg" data-proofer-ignore></p><ul><li>Text 영역<ul><li>실행가능한 코드</ul><li>Data 영역<ul><li>전역 변수</ul><li>Heap 영역<ul><li>동적할당된 메모리</ul><li>Stack 영역<ul><li>함수를 호출한 경우<li>함수 매개변수, 리턴 주소(함수 수행이 끝난 뒤 실행될 코드의 위치), 지역 변수</ul></ul><h2 id="프로세스의-생명-주기"><span class="mr-2">프로세스의 생명 주기</span><a href="#프로세스의-생명-주기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>프로세스가 실행되는 동안 상태가 바뀜</p><ul><li>New : 프로세스가 생성된 상태<li>Running : 프로세스의 명령어를 CPU에 불러옴<li>Waiting : 어떤 이벤트의 발생을 기다리는 상태<ul><li>타임쉐어링으로 다른 프로세스를 잠시 실행하면 기존의 프로세스가 waiting 상태가 됨<li>waiting queue에서 I/O 완료나 시그널의 수신 등을 기다림</ul><li>Ready : ready queue에서 프로세서에게 할당되기를 기다림<li>Terminated : 모든 것이 끝나고 종료된 상태</ul><p><img data-src="/assets/img/cs/os/os03/process_state.jpg" alt="process_state.jpg" data-proofer-ignore></p><h2 id="pcb--tcb"><span class="mr-2">PCB / TCB</span><a href="#pcb--tcb" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>PCB(Process Control Block)</strong> 또는 <strong>TCB(Task Control Block)</strong> 는 <strong>프로세스를 관리</strong>하기 쉽도록 <strong>정보</strong>들을 하나의 구조체에 모아놓은 것</p><p>PCB에 담긴 정보는 다음과 같음</p><ul><li>Process state : 프로세스의 생명 주기 중 어떤 상태인지<li>Program counter : 마이크로프로세서 내부에 있는 레지스터 중의 하나로서, 다음에 실행될 명령어의 주소를 가지고 있어 실행할 기계어 코드의 위치를 지정함<li>CPU resgisters<li>CPU-scheduling information<li>Memory-management information : 동적할당한 메모리 관련 정보<li>Accounting information : 유저 관련 정보<li>I/O status information</ul><p><img data-src="/assets/img/cs/os/os03/pcb.jpg" alt="pcb.jpg" data-proofer-ignore></p><h2 id="프로세스의-정의"><span class="mr-2">프로세스의 정의</span><a href="#프로세스의-정의" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="기존-정의"><span class="mr-2">기존 정의</span><a href="#기존-정의" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><strong>싱글스레드로 실행</strong>되는 프로그램을 말함<ul><li>스레드(thread) : 가벼운 프로세스를 의미함</ul><li>한번에 한 개의 작업만 할 수 있음</ul><h3 id="확장된-정의"><span class="mr-2">확장된 정의</span><a href="#확장된-정의" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>한 개 이상의 스레드로 실행되는 프로그램<li>한번에 여러 개의 작업을 수행할 수 있음</ul><h1 id="process-scheduling">Process Scheduling</h1><h2 id="멀티-프로그래밍"><span class="mr-2">멀티 프로그래밍</span><a href="#멀티-프로그래밍" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>개념</strong> : 한번에 여러 프로세스를 실행시키는 것</p><p><strong>목적</strong> : CPU 활용률을 극대화시키기 위해</p><h2 id="타임-쉐어링"><span class="mr-2">타임 쉐어링</span><a href="#타임-쉐어링" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>개념</strong> : CPU 코어를 프로세스간에 매우 빈번하게 교체하는 것</p><p><strong>목적</strong> : 사용자에게 프로그램들이 동시에 실행된다고 느끼게 함</p><h2 id="스케줄링-큐-scheduling-queues"><span class="mr-2">스케줄링 큐 (Scheduling Queues)</span><a href="#스케줄링-큐-scheduling-queues" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>프로세스가 시스템에 들어오면 <strong>ready queue</strong>(CPU의 코어에 실행될 준비가 되고 기다리는 곳)에 들어간다<li>특정한 이벤트의 발생을 기다리는 프로세스는 <strong>waiting queue</strong>에 위치한다<ul><li><strong>waiting queue</strong>에서 기다리다가 <strong>ready queue</strong>로 이동함</ul><li>PCB에 연결리스트로 다음과 같이 구현되어있음</ul><p><img data-src="/assets/img/cs/os/os03/readywaiting_queues.jpg" alt="ready&amp;waiting_queues.jpg" data-proofer-ignore></p><h2 id="queueing-diagram"><span class="mr-2">Queueing Diagram</span><a href="#queueing-diagram" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>프로세스 스케줄링은 보통 다음과 같은 형태로 일어남</ul><p><img data-src="/assets/img/cs/os/os03/process_scheduling.jpg" alt="process_scheduling.jpg" data-proofer-ignore></p><h2 id="context-switch"><span class="mr-2">Context Switch</span><a href="#context-switch" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>context<ul><li>프로세스가 사용되고 있는 상태. PCB에 저장되어 있음.<li>보통 PCB 정보를 의미함</ul><li>interrupt가 발생하면<ul><li>시스템이 현재 실행되는 프로세스의 context를 저장하고<li>나중에 해당 context를 복구해서 프로세스가 이어지게끔 함</ul><li>context switch의 과정은 아래와 같음<ul><li>다른 프로세스에게 CPU 코어를 전환시킴<li>현재 프로세스의 상태를 저장함<li>다른 프로세스의 상태를 복구함</ul></ul><p><img data-src="/assets/img/cs/os/os03/context_switch.png" alt="context_switch.png" data-proofer-ignore></p><h1 id="operations-on-processes">Operations on Processes</h1><ul><li>프로세스 생성<li>프로세스 종료</ul><h2 id="프로세스-생성"><span class="mr-2">프로세스 생성</span><a href="#프로세스-생성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>하나의 프로세스는 다수의 새로운 프로세스를 생성할 수 있음.</p><ul><li><strong>parent process(부모 프로세스)</strong> : 원본 프로세스<li><strong>child process(자식 프로세스)</strong> : 이것으로부터 생성된 프로세스</ul><p><img data-src="/assets/img/cs/os/os03/Untitled.png" alt="Untitled" data-proofer-ignore></p><ul><li>실행의 2가지 경우의 수<ul><li>parent process가 그것의 child process와 동시에(concurrently) 실행됨<li>parent가 children이 종료될 때까지 기다림</ul><li>주소 공간(address-space)의 2가지 경우의 수<ul><li>child process가 parent의 복제품인 경우. 이 경우 같은 공간을 사용함.<li>child가 새 프로그램으로 실행되는 경우</ul></ul><h3 id="fork-시스템-콜"><span class="mr-2">fork 시스템 콜</span><a href="#fork-시스템-콜" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>기능</ul><p>UNIX 계열 OS에서 새로운 프로세스를 생성하는 시스템 콜</p><p>이렇게 생성된 child 프로세스는 parent 프로세스의 주소공간의 사본을 가짐.</p><ul><li>리턴값 (pid)<ul><li>0 : child process<li>0 이외의 값 : parent process</ul><li>호출 이후</ul><p>parent와 child 모두 <code class="language-plaintext highlighter-rouge">fork()</code> 이후에 실행을 이어감.</p><p>child가 실행되는 동안 parent가 할 작업이 없으면 <code class="language-plaintext highlighter-rouge">wait()</code> 시스템 콜을 호출한 뒤, <strong>ready queue</strong>로 가서 child의 종료를 기다릴 수 있음. child가 종료되며 인터럽트를 주면 그때부터 다시 parent가 이어서 실행됨.</p><h2 id="프로세스-종료"><span class="mr-2">프로세스 종료</span><a href="#프로세스-종료" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>종료되는 경우는 다음과 같다.</p><ul><li>마지막 문장까지 실행을 완료한 경우<li><code class="language-plaintext highlighter-rouge">exit()</code> 시스템 콜을 호출한 경우 : OS에게 프로세스를 삭제할 것을 요청함</ul><p>프로세스가 종료될 때 OS는 할당된 것들을 해제하고, 리소스를 되찾음</p><ul><li>메모리 할당, 파일 오픈, I/O 버퍼 등</ul><h3 id="zombie--orphan"><span class="mr-2">Zombie , Orphan</span><a href="#zombie--orphan" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>보통 parent는 child가 종료될 때까지 기다림</p><ul><li>zombie process : child가 종료됐지만 parent가 아직 <code class="language-plaintext highlighter-rouge">wait()</code>을 호출하지 않은 경우<ul><li><code class="language-plaintext highlighter-rouge">wait()</code> : parent가 child 프로세스가 될 때까지 기다리기 위해 사용</ul><li>orphan process : parent가 wait의 호출 없이 먼저 종료되고 child는 돌아가고 있는 경우</ul><h1 id="interprocess-communication">Interprocess Communication</h1><p>concurrent한 프로세스 간의 실행 방식</p><ul><li>독립적으로 실행 (independent process)<ul><li>다른 프로세스들과 데이터를 공유하지 않음</ul><li>협력해서 실행 (cooperating process)<ul><li>다른 프로세스들과 데이터를 공유함<li>다른 프로세스에게 영향을 주거나 받음</ul></ul><h2 id="ipc-inter-process-communication"><span class="mr-2">IPC (Inter-Process Communication)</span><a href="#ipc-inter-process-communication" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>Cooperating process들은 <strong>IPC 메커니즘</strong>을 필요로 함<ul><li>프로세스 간에 데이터를 주고받을 수 있음</ul></ul><h2 id="ipc-모델"><span class="mr-2">IPC 모델</span><a href="#ipc-모델" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>(a) 메모리를 공유하는 방식 (Shared-Memory Systems)<ul><li>공유하는 메모리 영역을 통해 데이터를 주고받음</ul><li>(b) 메시지를 주고받는 방식 (Message-Passing Systems)<ul><li>message queue에 메시지를 보내면 OS가 대신 전해줌</ul></ul><p><img data-src="/assets/img/cs/os/os03/Untitled%201.png" alt="Untitled" data-proofer-ignore></p><h2 id="shared-memory-systems"><span class="mr-2">Shared-Memory Systems</span><a href="#shared-memory-systems" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><strong>기존 문제</strong> : 생산자-소비자 문제 (producer-consumer problem)<ul><li>여러 개의 프로세스를 어떻게 동기화할 것인가에 관한 문제. 한정 버퍼 문제라고도 함.<li>producer : 정보 생산하는 대상, consumer : 정보 소비하는 대상)<ul><li>예시 1. 컴파일러 : producer (어셈블리 코드를 생산), 어셈블러 : consumer (해당 코드를 소비)<li>예시 2. 웹 서버 : producer (HTML 파일을 생산), 브라우저 : consumer (해당 파일을 소비)</ul></ul><li><strong>해결 방법</strong> : shared-memory<li>생산자와 소비자 프로세스가 공유하는 메모리 영역(shared memory)을 통해 데이터 교환<li>생산자와 소비자를 concurrent하게 실행시킴<li>버퍼 개념<ul><li>생산자 : 버퍼를 채움<li>소비자 : 버퍼를 비움</ul></ul><h2 id="message-passing-systems"><span class="mr-2">Message-Passing Systems</span><a href="#message-passing-systems" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><strong>기존 문제</strong><ul><li>shared memory를 관리하는 것은 온전히 개발자의 몫임<li>생산자-소비자의 수가 늘어날 수록 개발자에게는 어려움이 존재.</ul><li><strong>해결 방법</strong> : message-passing<li>OS가 메시지를 전달할 수단(message-passing facility)를 제공해줌<li>message-passing facility의 동작<ul><li>send (message)<li>receive (message)</ul><li>Communication Links<ul><li>두 프로세스간에 통신을 한다고 하면, 데이터를 주고 받는 데 사용되는 연결을 의미함.<li>형성되는 방식<ul><li><strong>direct / indirect</strong> communication<li><strong>synchronous / asynchronous</strong> communication<li>automatic / explicit buffering</ul></ul><li><strong>direct / indirect</strong> communication<ul><li>direct<ul><li>통신을 하려는 프로세스는 수신자, 발송자로 명시됨.<li>send(P, message), receive(Q, message)의 형태로 메시지를 주고받음 (P : 수신자, Q : 발송자)<li>링크는 자동적으로 형성됨 (수신, 발신자가 정해져 있기 때문)<li>링크는 두 개의 프로세스와만 관련됨<li>각 프로세스 쌍 별로 한 개의 링크만 존재함</ul><li>indirect<ul><li>mailbox (또는 port)를 통해 메시지를 주고받음.<ul><li>mailbox : 메시지가 각 프로세스에 의해 놓아지고 제거되는 추상적 공간</ul><li>send(A, message), receive(A, message)의 형태로 메시지를 주고받음 (A : mailbox)<li>링크는 각 프로세스의 쌍이 공유하는 mailbox가 존재하는 경우에만 형성됨<li>링크는 두 개 이상의 프로세스와 관련될 수 있음<li>여러개의 링크가 존재할 수 있음 (각 링크는 하나의 mailbox를 가짐)<li>OS의 역할<ul><li>create / delete mailbox<li>send / receive messages</ul></ul></ul><li><strong>synchronous / asynchronous</strong> communication (or <strong>blocking / non-blocking</strong>)<ul><li>synchronous communication (동기 통신)<ul><li>blocking send : 발송자는 메시지가 수신되기 전까지 blocked<li>blocking receive : 수신자는 메시지가 존재할 때 까지 blocked</ul><li>asynchronous communicatoin (비동기 통신)<ul><li>non-blocking send : 발송자는 계속해서 메시지를 보냄 (수신 여부와 상관없이)<li>non-blocking receive : 수신자는 계속해서 메시지를 받음 (유효한 메시지 또는 null 메시지에 관계없이)</ul><li>참고 : <a href="https://23tae.github.io/posts/minitalk3/#직렬-통신-serial-transmission">직렬 통신</a></ul></ul><h1 id="examples-of-ipc-systems">Examples of IPC Systems</h1><ul><li>shared memory : POSIX Shared Memory<li>Message Passing : Pipes</ul><h2 id="posix-shared-memory"><span class="mr-2">POSIX shared memory</span><a href="#posix-shared-memory" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>memory-mapped 파일을 이용해 메모리를 구성함</p><ul><li>POSIX: Portable Operating System Interface (for uniX)<ol><li>공유 메모리 객체를 생성</ol><ul><li><code class="language-plaintext highlighter-rouge">fd = shm_open(name, O_CREAT | ORDWR, 0666);</code><ol><li>객체의 크기를 바이트 단위로 설정</ol><li><code class="language-plaintext highlighter-rouge">ftruncate(fd, 4096);</code><ol><li>memory-mapped 파일을 생성</ol><li><code class="language-plaintext highlighter-rouge">mmap(0, SIZE, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0);</code></ul></ul><h2 id="pipes"><span class="mr-2">Pipes</span><a href="#pipes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>UNIX 계열 OS의 초기 IPC 메커니즘<li>파이프는 두 프로세스가 통신할 수 있는 수도관 역할을 함<li>pipe 구현의 네 가지 이슈<ol><li>통신 방향 : unidirectional / bidirectional<li>two-way 통신의 구현 방법 : half-duplex / full-duplex (참고 : <a href="https://23tae.github.io/posts/minitalk3/#통신-방향으로-구분">데이터 통신</a>)<li>프로세스 간 관계 존재 여부 (ex. parent-child)<li>네트워크를 통한 통신 여부</ol><li>pipe 종류<ul><li>Ordinary pipes<ul><li>생성한 프로세스 외부에서 접속 불가<li>주로, parent 프로세스가 child와 통신하기 위해 파이프를 생성함<li>두 프로세스가 생산자-소비자의 방식으로 통신함<ul><li><strong>생산자</strong>는 pipe의 한 쪽 끝에다가 작성함 (write end)<li><strong>소비자</strong>는 pipe의 반대쪽 끝에서부터 읽음 (read end)</ul><li>unidirectional : one-way 통신만 가능 (two-way 통신은 pipe 2개를 통해 구현 가능)</ul><p><img data-src="/assets/img/cs/os/os03/Untitled%202.png" alt="Untitled" data-proofer-ignore></p><li>Named pipes<ul><li>parent-child 관계가 아닌 프로세스도 접근 가능</ul></ul></ul><h1 id="communication-in-client-server-systems">Communication in Client-Server Systems</h1><ul><li>Sockets<li>RPCs</ul><h2 id="socket"><span class="mr-2">Socket</span><a href="#socket" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>통신을 위한 종점</p><p>socket = IP 주소 + port 번호</p><p><img data-src="/assets/img/cs/os/os03/Untitled%203.png" alt="Untitled" data-proofer-ignore></p><ul><li>소켓 통신에서의 Java<ul><li>쉬운 소켓 인터페이스를 제공<li>3가지 타입의 소켓 제공<ul><li><strong>Socket</strong> class: connection-oriented (TCP). 한 수신자.<li><strong>DatagramSocket</strong> class: connectionless (UDP). 여러(임의의) 수신자. 주로 방송에서 사용<li><strong>MulticastSocket</strong> class: 여러(특정한) 수신자</ul></ul></ul><h2 id="rpc-remote-procedure-call"><span class="mr-2">RPC (Remote Procedure Call)</span><a href="#rpc-remote-procedure-call" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><img data-src="/assets/img/cs/os/os03/Untitled%204.png" alt="Untitled" data-proofer-ignore></p><p>네트워크 시스템에서 프로세스 간의 원격 호출을 추상화한 것</p><p>원격 서비스의 흔한 형태</p><ul><li>IPC의 확장개념<ul><li>IPC : 한 개의 pc 안에서의 통신<li>RPC : 여러 개의 pc 사이의 원격 통신</ul><li><p>RPC의 작동과정</p><p>클라이언트에게 <strong>stub</strong>을 제공해서 통신의 세부내역을 숨김</p><ol><li>클라이언트측의 <strong>stub</strong>이 서버를 위치시키고 파라미터를 <strong>marshal</strong><ul><li>marshal : 서버 간에 주고받을 데이터를 정렬하는 과정</ul><li>서버측의 <strong>stub</strong>이 메시지를 받음<li>서버는 <strong>marshal</strong>된 파라미터를 <strong>unpack</strong><li>서버에서 프로시저를 수행함</ol></ul><h1 id="ref">Ref.</h1><p><a href="https://ko.wikipedia.org/wiki/생산자-소비자_문제">https://ko.wikipedia.org/wiki/생산자-소비자_문제</a><br /> <a href="https://www.geeksforgeeks.org/remote-procedure-call-rpc-in-operating-system/">https://www.geeksforgeeks.org/remote-procedure-call-rpc-in-operating-system/</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/computer-science/'>Computer Science</a>, <a href='/categories/operating-system/'>Operating System</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/cs/" class="post-tag no-text-decoration" >cs</a> <a href="/tags/os/" class="post-tag no-text-decoration" >os</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%5B%EC%9A%B4%EC%98%81+%EC%B2%B4%EC%A0%9C%5D+03.+Processes+-+Justnote&url=https%3A%2F%2F23tae.github.io%2Fposts%2Fos03%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%5B%EC%9A%B4%EC%98%81+%EC%B2%B4%EC%A0%9C%5D+03.+Processes+-+Justnote&u=https%3A%2F%2F23tae.github.io%2Fposts%2Fos03%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2F23tae.github.io%2Fposts%2Fos03%2F&text=%5B%EC%9A%B4%EC%98%81+%EC%B2%B4%EC%A0%9C%5D+03.+Processes+-+Justnote" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/os02/">[운영 체제] 02. Operating-System Structures</a><li><a href="/posts/os03/">[운영 체제] 03. Processes</a><li><a href="/posts/os04/">[운영 체제] 04. Thread & Concurrency</a><li><a href="/posts/minitalk3/">Minitalk ③ 배경 지식 : 기타</a><li><a href="/posts/push_swap1/">Push_swap ① Subject</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/c/">c</a> <a class="post-tag" href="/tags/42seoul/">42seoul</a> <a class="post-tag" href="/tags/cs/">cs</a> <a class="post-tag" href="/tags/dp/">dp</a> <a class="post-tag" href="/tags/issue/">issue</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/vscode/">vscode</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/os01/"><div class="card-body"> <em class="small" data-ts="1658314800" data-df="ll" > Jul 20, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[운영 체제] 01. Introduction</h3><div class="text-muted small"><p> Operating System 운영 체제 컴퓨터의 하드웨어를 관리하는 소프트웨어 컴퓨터 상에서 항상 가동되는 하나의 프로그램 커널 시스템 프로그램 애플리케이션 프로그램 역할 애플리케이션 프로그램의 기반을 제공함 사용자와 하드웨어의 매개체 역할을 함 부팅 과정 컴퓨터의 전원이 켜짐 CPU가 ROM의 부트스트...</p></div></div></a></div><div class="card"> <a href="/posts/os02/"><div class="card-body"> <em class="small" data-ts="1658325600" data-df="ll" > Jul 20, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[운영 체제] 02. Operating-System Structures</h3><div class="text-muted small"><p> Operating System Services OS는 프로그램이 실행될 환경을 제공함 User interface Program execution I/O operation File-system manipulation Communications Error detection Resource allocation Logging...</p></div></div></a></div><div class="card"> <a href="/posts/os04/"><div class="card-body"> <em class="small" data-ts="1658934000" data-df="ll" > Jul 28, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[운영 체제] 04. Thread & Concurrency</h3><div class="text-muted small"><p> Overview 스레드 (thread) 가벼운 프로세스 CPU 활용의 기본 단위 스레드 ID, 프로그램 카운터, 레지스터 세트, 스택으로 구성됨 앞에서는 프로세스가 한 개의 스레드로 실행(싱글스레딩)된다고 가정했음 하지만 실제로 프로세스는 여러 개의 스레드로 실행(멀티스레딩)될 수 있음 [싱글스레딩과 멀티스레딩] 멀티스레딩의...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/push_swap1/" class="btn btn-outline-primary" prompt="Older"><p>Push_swap ① Subject</p></a> <a href="/posts/os04/" class="btn btn-outline-primary" prompt="Newer"><p>[운영 체제] 04. Thread & Concurrency</p></a></div><script src="https://utteranc.es/client.js" repo="23tae/comments" issue-term="pathname" crossorigin="anonymous" async> </script> <script type="text/javascript"> $(function() { const origin = "https://utteranc.es"; const iframe = "iframe.utterances-frame"; const lightTheme = "github-light"; const darkTheme = "github-dark"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } addEventListener("message", (event) => { let theme; /* credit to <https://github.com/utterance/utterances/issues/170#issuecomment-594036347> */ if (event.origin === origin) { /* page initial */ theme = initTheme; } else if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); } else { return; } const message = { type: "set-theme", theme: theme }; const utterances = document.querySelector(iframe).contentWindow; utterances.postMessage(message, origin); }); }); </script></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/23tae">Taehoon</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/c/">c</a> <a class="post-tag" href="/tags/42seoul/">42seoul</a> <a class="post-tag" href="/tags/cs/">cs</a> <a class="post-tag" href="/tags/dp/">dp</a> <a class="post-tag" href="/tags/issue/">issue</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/vscode/">vscode</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
